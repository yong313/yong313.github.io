---
emoji: ğŸ£
title: Error Handling - 03-08
date: '2022-03-08 15:30:00'
author: ì „ìš©íƒœ
tags: í”„ë¡ íŠ¸ì—”ë“œ,Front-End
categories: SAVE
---

## react-daum-postcode ì‚¬ìš©í•˜ì—¬ ì£¼ì†Œê²€ìƒ‰ ê¸°ëŠ¥ êµ¬í˜„í•˜ê¸°

react-daum-postcodeëŠ” ì‚¬ìš©ë²•ì´ ì •ë§ ê°„ë‹¨í•˜ë‹¤ëŠ” ì¥ì ì´ ìˆë‹¤. ê·¸ë˜ì„œ ì£¼ì†Œ ê²€ìƒ‰ ì»´í¬ë„ŒíŠ¸ë¥¼ ì§„í–‰í•˜ëŠ” í”„ë¡œì íŠ¸ í…Œë§ˆì— ë§ê²Œ ì»¤ìŠ¤í…€ í•˜ëŠ”ë° ì¢€ ë” í¬ì»¤ìŠ¤ë¥¼ ë§ì¶”ê³  ì§„í–‰í•˜ì˜€ë‹¤.

<br />

> ì°¸ê³  [ì¹´ì¹´ì˜¤ ìš°í¸ë²ˆí˜¸ ì„œë¹„ìŠ¤](https://postcode.map.daum.net/guide)<br />
> ì°¸ê³ 2 [react-daum-postcode](https://www.npmjs.com/package/react-daum-postcode)

<br />

![0308_gif_v1.gif](0308_gif_v1.gif)

<br />

## êµ¬í˜„ ì‚¬í•­ ì²´í¬

1. react-daum-postcode ì‚¬ìš© ì£¼ì†Œ ê²€ìƒ‰ ê¸°ëŠ¥ êµ¬í˜„
2. modalì„ ì‚¬ìš©í•˜ì—¬ ì£¼ì†Œ ê²€ìƒ‰ ë…¸ì¶œ, ì£¼ì†Œ ì„ íƒ í›„ ì„ íƒí•œ ì£¼ì†Œì™€ ìƒì„¸ì£¼ì†Œ ì…ë ¥ ë¶€ë¶„ ë…¸ì¶œ
3. ìƒì„¸ì£¼ì†Œ ì…ë ¥ ì—¬ë¶€ì— ë”°ë¼ ì €ì¥ ë²„íŠ¼ í™œì„±í™” ë° ë¹„í™œì„±í™”
4. ë°ìŠ¤í¬íƒ‘ ì‚¬ì´ì¦ˆì—ì„œëŠ” modal íŒì—… ëª¨ë°”ì¼ ì‚¬ì´ì¦ˆì—ì„œëŠ” í™”ë©´ì— ê°€ë“ ì±„ìš°ê¸° - ë°˜ì‘í˜•

<br />

## 1. react-daum-postcode ì‚¬ìš© ì£¼ì†Œ ê²€ìƒ‰ ê¸°ëŠ¥ êµ¬í˜„

## ì„¤ì¹˜

```jsx
npm install react-daum-postcode
// or
yarn add react-daum-postcode
```

## ì‚¬ìš©

```jsx
import React from 'react';
import DaumPostcode from 'react-daum-postcode';

const Postcode = () => {
  const handleComplete = (data) => {
    let fullAddress = data.address;
    let extraAddress = '';

    if (data.addressType === 'R') {
      if (data.bname !== '') {
        extraAddress += data.bname;
      }
      if (data.buildingName !== '') {
        extraAddress += extraAddress !== '' ? `, ${data.buildingName}` : data.buildingName;
      }
      fullAddress += extraAddress !== '' ? ` (${extraAddress})` : '';
    }

    console.log(fullAddress); // e.g. 'ì„œìš¸ ì„±ë™êµ¬ ì™•ì‹­ë¦¬ë¡œ2ê¸¸ 20 (ì„±ìˆ˜ë™1ê°€)'
  };

  return <DaumPostcode onComplete={handleComplete} {...props} />;
};
```

<br />

ìœ„ ì ˆì°¨ëŒ€ë¡œ ì§„í–‰í•˜ë©´ ë°”ë¡œ ì£¼ì†Œê²€ìƒ‰ ê¸°ëŠ¥ì„ ì‚¬ìš©ê°€ëŠ¥í•˜ë‹¤. ì´ì œ ì›í•˜ëŠ”ëŒ€ë¡œ ì»¤ìŠ¤í…€í•´ì„œ ì‚¬ìš©í•˜ë©´ë˜ëŠ”ë° ê°€ì´ë“œë¼ì¸ ë¬¸ì„œë¥¼ í™•ì¸í•´ë³´ë©´ ì›í•˜ëŠ” ê¸°ëŠ¥ì„ í™•ì¸í•˜ê³  ì‚¬ìš©ê°€ëŠ¥í•˜ë‹¤.

<br />

## 2. modalì„ ì‚¬ìš©í•˜ì—¬ ì£¼ì†Œ ê²€ìƒ‰ ë…¸ì¶œ, ì£¼ì†Œ ì„ íƒ í›„ ì„ íƒí•œ ì£¼ì†Œì™€ ìƒì„¸ì£¼ì†Œ ì…ë ¥ ë¶€ë¶„ ë…¸ì¶œ

ì£¼ì†Œ ê²€ìƒ‰ ì»´í¬ë„ŒíŠ¸ ìƒë‹¨ì— í”„ë¡œì íŠ¸ ë©”ì¸ ì»¬ëŸ¬ë¥¼ ì‚¬ìš©í•˜ì—¬ Title ì˜ì—­ì„ ë§Œë“¤ê³  ê·¸ ì•„ë«ë¶€ë¶„ì— ì£¼ì†Œ ê²€ìƒ‰ + ìƒì„¸ ì£¼ì†Œ ì…ë ¥ ì»´í¬ë„ŒíŠ¸ë¥¼ ì‚¬ìš©í•˜ì˜€ë‹¤. useStateë¥¼ ì‚¬ìš©í•˜ì—¬ modalì˜ ìƒíƒœë¥¼ ê´€ë¦¬í•˜ë©° ì£¼ì†Œ ê²€ìƒ‰ ì˜ì—­ì„ í´ë¦­ ì‹œ modalì„ ë…¸ì¶œì‹œì¼°ë‹¤. ëª¨ë‹¬ì˜ ë¶€ëª¨ ìš”ì†Œì˜ í¬ê¸°ëŠ” í™”ë©´ ì˜ì—­ì˜ ì „ì²´ë¥¼ ì°¨ì§€í•˜ë©° opacityë¥¼ ì‚¬ìš© íˆ¬ëª…ë„ë¥¼ ì£¼ì—ˆë‹¤. keyframesì„ ì‚¬ìš©í•˜ì—¬ ë¶€ëª¨ ìš”ì†ŒëŠ” ëª¨ë‹¬ ì´ë²¤íŠ¸ê°€ ë°œìƒ ì‹œ fadeinìœ¼ë¡œ í™”ë©´ì— ë…¸ì¶œë˜ë©°, ì£¼ì†Œ ê²€ìƒ‰ ì»´í¬ë„ŒíŠ¸ëŠ” ìœ„ì—ì„œ ì•„ë˜ë¡œ ë‚´ë ¤ì˜¤ëŠ” ì• ë‹ˆë©”ì´ì…˜ì„ ì ìš©í•˜ì˜€ë‹¤.

```css
// ì£¼ì†Œ ê²€ìƒ‰ ì»´í¬ë„ŒíŠ¸ ë¶€ëª¨ìš”ì†Œ css

const SearchAddressBox = styled.div`
  width: 100%;
  height: 100vh;
  background-color: rgba(0, 0, 0, 0.25);
  position: fixed;
  top: 0;
  left: 0;
  animation: boxFade 0.35s ease;
  @keyframes boxFade {
    0% {
      opacity: 0;
    }
    100% {
      opacity: 1;
    }
  }
`;

// ì£¼ì†Œ ê²€ìƒ‰ ì»´í¬ë„ŒíŠ¸ css

const Container = styled.div`
  width: auto;
  height: auto;
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  border-radius: 12px;
  box-shadow: 0px 8px 20px rgba(0, 0, 0, 0.2);
  animation: containerFade 0.35s ease;
  @keyframes containerFade {
    0% {
      top: 42.5%;
    }
    100% {
      top: 50%;
    }
  }
`;
```

![0308_img_v1.png](0308_img_v1.png)

ìœ„ ì´ë¯¸ì§€ ì¢Œì¸¡ë¶€í„° 1ë²ˆ 2ë²ˆì€ daumpostcodeë¥¼ í†µí•´ ì§„í–‰ë˜ëŠ” ì ˆì°¨ì´ê³ , ë§ˆì§€ë§‰ ìƒì„¸ì£¼ì†Œë¥¼ ì…ë ¥í•˜ëŠ” ë¶€ë¶„ì€ DetailAddressë¼ëŠ” ì»´í¬ë„ŒíŠ¸ë¥¼ ë§Œë“¤ê³ , ìœ ì €ê°€ ê²€ìƒ‰í•˜ê³  ì„ íƒí•œ ì£¼ì†ŒëŠ” userSelectAddressì— ì €ì¥í•˜ì—¬, userSelectAddressì— ì„ íƒëœ ì£¼ì†Œê°€ ìˆëŠ”ì§€ ì—†ëŠ”ì§€ì— ë”°ë¼ DetailAddress ì»´í¬ë„ŒíŠ¸ê°€ ë…¸ì¶œë˜ê²Œ êµ¬ì¡°ë¥¼ ì§°ë‹¤.

```jsx
// ìœ ì €ê°€ ì„ íƒí•œ ì£¼ì†Œ ìƒíƒœ ê´€ë¦¬
const [userSelectAddress, setUserSelectAddress] = useState();

const handleComplete = (data) => {
  let fullAddress = data.address;
  let extraAddress = '';

  if (data.addressType === 'R') {
    if (data.bname !== '') {
      extraAddress += data.bname;
    }
    if (data.buildingName !== '') {
      extraAddress += extraAddress !== '' ? `, ${data.buildingName}` : data.buildingName;
    }
    fullAddress += extraAddress !== '' ? ` (${extraAddress})` : '';
  }
  setUserSelectAddress(fullAddress);
};

<SearchAddressBox>
  <Container
    onClick={(event) => {
      event.stopPropagation();
    }}
  >
    <Title>
      <Text>ë°°ì†¡ ì£¼ì†Œ ê²€ìƒ‰</Text>
      <Icon onClick={isClose}>&times;</Icon>
    </Title>
    {userSelectAddress ? (
      <DetailAddress userSelectAddress={userSelectAddress} setIsOpen={setIsOpen} id={id} />
    ) : (
      <DaumPostcode
        className="post_code"
        style={postCodeStyle}
        onComplete={handleComplete}
        {...props}
      />
    )}
  </Container>
</SearchAddressBox>;
```

<br />

## 3. ìƒì„¸ì£¼ì†Œ ì…ë ¥ ì—¬ë¶€ì— ë”°ë¼ ì €ì¥ ë²„íŠ¼ í™œì„±í™” ë° ë¹„í™œì„±í™”

![0308_img_v2.png](0308_img_v2.png)

useRefë¥¼ ì‚¬ìš©í•˜ì—¬ ìƒì„¸ ì£¼ì†Œë¥¼ ì…ë ¥í•˜ëŠ” inputì˜ ê°’ì„ buttonDisabledì— ì €ì¥í•˜ê³  ìƒíƒœë¥¼ ê´€ë¦¬í•˜ì˜€ë‹¤.
onButtonHandler í•¨ìˆ˜ë¡œ ë²„íŠ¼ í™œì„±í™” ë° ë¹„í™œì„±í™”ë¥¼ í•¸ë“¤ë§í•˜ê³ , completeAddress ìœ ì €ê°€ ê²€ìƒ‰í•œ ì£¼ì†Œì™€ ìƒì„¸ì£¼ì†Œë¥¼ dispatchë¥¼ ì‚¬ìš©í•˜ì—¬ reduxì— ìƒíƒœë¥¼ ì €ì¥í•¨

<br />

```jsx
const [buttonDisabled, setButtonDisabled] = useState(false);
const choiceAddress = useRef();
const dispatch = useDispatch();
const onButtonHandler = (e) => {
  if (choiceAddress.current.value.length) {
    setButtonDisabled(true);
  } else {
    setButtonDisabled(false);
  }
};

const completeAddress = () => {
  dispatch(addSubmitData(id, userSelectAddress + choiceAddress.current.value));
  setIsOpen(false);
};

<DetailAddressBox>
  <Label>ì£¼ì†Œ</Label>
  <SelectAddress>{userSelectAddress}</SelectAddress>
  <Label>ìƒì„¸ì£¼ì†Œ</Label>
  <UserDetailAddress
    placeholder="ìƒì„¸ì£¼ì†Œë¥¼ ì…ë ¥í•´ ì£¼ì„¸ìš” âœ¨"
    ref={choiceAddress}
    onChange={onButtonHandler}
  />
  <SaveButton disabled={!buttonDisabled} onClick={completeAddress}>
    ì €ì¥
  </SaveButton>
</DetailAddressBox>;
```

<br />

ì €ì¥ ë²„íŠ¼ cssì— props disabledë¥¼ ì „ë‹¬, disabledì—ëŠ” buttonDisabledì˜ ìƒíƒœ ê¸°ì¤€ìœ¼ë¡œ ì‚¼ í•­ ì—°ì‚°ìë¥¼ ì‚¬ìš©í•˜ì—¬ ë²„íŠ¼ì˜ í™œì„±í™” ë° ë¹„í™œì„±í™” ìƒíƒœì— ë§ê²Œ ìƒ‰ìƒì´ ë³€ê²½ë˜ë„ë¡ ì„¤ì •í•¨.

<br />

```css
const SaveButton = styled.button`
  width: 55%;
  height: 45px;
  color: #fff;
  margin-top: 30px;
  font-size: 0.85rem;
  font-weight: bold;
  border-radius: 8px;
  background-color: #ff5a5f;
  box-shadow: 0px 5px 10px rgba(200, 200, 200, 0.3);
  cursor: pointer;

  ${(props) =>
    props.disabled
      ? `
  color: #aab8c2;
  background-color: #f5f8fa;
  cursor: default;
  `
      : ``}
`;
```

<br />

## 4. ë°ìŠ¤í¬íƒ‘ ì‚¬ì´ì¦ˆì—ì„œëŠ” modal íŒì—… ëª¨ë°”ì¼ ì‚¬ì´ì¦ˆì—ì„œëŠ” í™”ë©´ì— ê°€ë“ ì±„ìš°ê¸° - ë°˜ì‘í˜•

ìœ„ ë‚´ìš©ì€ ë°ìŠ¤í¬íƒ‘ ê¸°ì¤€ì´ë‹¤. `<DaumPostcode>` ì»´í¬ë„ŒíŠ¸ì— Media Queryë¥¼ ì‚¬ìš©í•˜ì—¬ ê°€ë¡œ ê°’ì´ 414px ì´í•˜ì¼ ê²½ìš°ì—ëŠ” ì£¼ì†Œ ê²€ìƒ‰ ì»´í¬ë„ŒíŠ¸ê°€ í™”ë©´ì˜ ì „ì²´ë¥¼ ì°¨ì§€í•  ìˆ˜ ìˆë„ë¡ ì„¤ì •í•˜ì—¬ ë°˜ì‘í˜•ì„ êµ¬í˜„í•˜ì˜€ë‹¤.

<br />

![0308_gif_v2.gif](0308_gif_v2.gif)

í…ŒìŠ¤í¬íƒ‘ cssëŠ” postCodeStyle í•¨ìˆ˜ë¥¼ í†µí•´ ë°ìŠ¤í¬íƒ‘ì— ë§ì¶° ì„¤ì •í•œ ê°€ë¡œì™€ ì„¸ë¡œê°’ì„ ë°˜ì˜í•œë‹¤.

```jsx
<DaumPostcode className="post_code" style={postCodeStyle} />
```

```jsx
const postCodeStyle = {
  width: '100%',
  minWidth: '420px',
  height: '470px',
  overflow: 'scroll',
  borderRadius: '0 0 12px 12px',
};
```

<br />

DaumPostcode ì»´í¬ë„ŒíŠ¸ì— classNameì„ ì£¼ê³  Media Queryë¥¼ ì„¤ì •í•˜ì—¬ ê°€ë¡œ ê°’ì´ 400pxì¼ ê²½ìš° í™”ë©´ì˜ ì „ì²´ ì˜ì—­ì„ ì°¨ì§€í•˜ë„ë¡ í•˜ì˜€ë‹¤.

```css
const Container = styled.div`
  width: auto;
  height: auto;
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  border-radius: 12px;
  box-shadow: 0px 8px 20px rgba(0, 0, 0, 0.2);
  animation: containerFade 0.35s ease;
  @keyframes containerFade {
    0% {
      top: 42.5%;
    }
    100% {
      top: 50%;
    }
  }
  .post_code {
    @media (max-width: 400px) {
      width: 100% !important;
      height: 92vh !important;
      padding: 0 10px;
    }
  }
`;
```

<br />

ì´ë²ˆ í”„ë¡œì íŠ¸ì—ì„œëŠ” ì„¤ë¬¸ì§€ ì–‘ì‹ì„ ì‚¬ìš©ìê°€ ì›í•˜ëŠ” ëŒ€ë¡œ ì„ íƒí•˜ì—¬ ë§Œë“¤ê³  ì„¤ë¬¸ì§€ë¥¼ ì…ë ¥í•˜ëŠ” ìœ ì € í˜ì´ì§€ë¥¼ ë”°ë¡œ ë§Œë“œëŠ” í˜•íƒœì˜€ë‹¤. ê·¸ë˜ì„œ ì„¤ë¬¸ì§€ì— í¬í•¨ë  ê° ê¸°ëŠ¥ë“¤ì„ í•˜ë‚˜ì˜ reduxë¡œ ìƒíƒœ ê´€ë¦¬í•˜ì—¬ ì‚¬ìš©í•˜ê¸°ë¡œ ê¸°íší•˜ì˜€ë‹¤.

```jsx
// submit.js

const ADD_SUBMIT_DATA = 'submit/ADD_SUBMIT_DATA';
const INIT_SUBMIT_DATA = 'submit/INIT_SUBMIT_DATA';

export const addSubmitData = (key, value) => ({
  type: ADD_SUBMIT_DATA,
  key,
  value,
});
export const initSubmitData = (key, value) => ({ type: INIT_SUBMIT_DATA });

const initialState = {};

export default function submit(state = initialState, action) {
  switch (action.type) {
    case ADD_SUBMIT_DATA:
      return {
        ...state,
        [action.key]: action.value,
      };
    case INIT_SUBMIT_DATA:
      return {};
    default:
      return state;
  }
}
```

```jsx
// index.js

import { combineReducers } from 'redux';
import submit from './submit';

//! í•œí”„ë¡œì íŠ¸ì— ë¦¬ë“€ì„œê°€ ì—¬ëŸ¬ê°œì¼ê²½ìš° í•œ ë¦¬ë“€ì„œë¡œ í•©ì³ì‚¬ìš©í•œë‹¤.
//! í•©ì³ì§„ ë¦¬ë“€ì„œë¥¼ ë£¨íŠ¸ ë¦¬ë“€ì„œë¼ê³  ë¶€ë¥¸ë‹¤.

const rootReducer = combineReducers({ submit });

export default rootReducer;

//store ìƒì„±ì€ src/index.jsì—ì„œ
```

<br />

### íšŒê³  -

daumpostcodeëŠ” juso.go.krì—ì„œ ì œê³µí•˜ëŠ” OPEN APIë³´ë‹¤ ì‚¬ìš© ë°©ë²•ì´ ê°„ë‹¨í•˜ê³  ì»¤ìŠ¤í…€ í•  ì˜ì—­ì´ ì ì–´ ê¸°ëŠ¥ êµ¬í˜„í•˜ëŠ” ì‹œê°„ ë‹¨ì¶•ì˜ ì¥ì ì„ ê°€ì§€ê³  ìˆë‹¤. ë ˆí¼ëŸ°ìŠ¤ì™€ ê°€ì´ë“œ ë¬¸ì„œê°€ ì˜ ë˜ì–´ìˆì–´ ì²˜ìŒ ì‚¬ìš©í•´ë„ ì–´ë ¤ì›€ ì—†ì´ ì ìš© ê°€ëŠ¥í•œ ê±° ê°™ë‹¤.

<br />
