{
    "componentChunkName": "component---src-templates-blog-template-js",
    "path": "/TIL/22_02_26/",
    "result": {"data":{"cur":{"id":"d003c5ce-4829-52d6-b007-1084929fdfc5","html":"<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 46.666666666666664%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAIAAAC9o5sfAAAACXBIWXMAAAsTAAALEwEAmpwYAAABxklEQVQoz02RTUgbQRSAc6kXCyKaZCXZ2XixJ0sO0iIICsVSqJR6MIj23EML6VXqJQ3Fm2CIQkn2JzNRk4i/gZDUlkJqigUFC6KIQREVe6mYN/uT7OagJDHNwmNg3vDNe+97FhbTWiBMEaGcKVD9icXAYmBCNx3hghPLznre8p9kJGgXoJWHNr56CsBIUOXBRWRmvvw+kBkL/HRGFRcuNGCEqV2i3i3tw5Y2vqlObBffZbWRjNq3onRIwBKZ4f89nN7x+nyj/lm3cNg1D45IHeYItQowlFInfxdjeT10oJMjI5Y3XqXUljA8WqC9X3YeeEOWwTdNn7JWSUNYrg5iatsdl7tjlV8YCewifbosP45TF6Fd0euXG9AtHjT7+Cf+QHAvMpTetgoljsA9zBH6ebc0t68vHhtfz43cVXnx2EjkjdVTI31WTl/eznzP+X4Fc+dTH7PTrugFi1UWQ6Nyz5I8sKa8TqvPk4onow1uqP1r8otk0bP5d/0s8edilpz4h79JNvHaESkic9ts1bZNrEiuObeKwIiFlrDqjh++/cE/W4934j2bUEJYQWbbjT1j05IJ5SpXcEaUdkG3i4YD64gUaqpq8B0bez9nlfGNvAAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"TIL.png\"\n        title=\"TIL.png\"\n        src=\"/static/4fe7a2d9451b55c1cf1ffce5d2090ce0/37523/TIL.png\"\n        srcset=\"/static/4fe7a2d9451b55c1cf1ffce5d2090ce0/e9ff0/TIL.png 180w,\n/static/4fe7a2d9451b55c1cf1ffce5d2090ce0/f21e7/TIL.png 360w,\n/static/4fe7a2d9451b55c1cf1ffce5d2090ce0/37523/TIL.png 720w,\n/static/4fe7a2d9451b55c1cf1ffce5d2090ce0/764be/TIL.png 806w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<br />\n<h3 id=\"오늘한일--\" style=\"position:relative;\"><a href=\"#%EC%98%A4%EB%8A%98%ED%95%9C%EC%9D%BC--\" aria-label=\"오늘한일   permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>오늘한일 👨🏻‍💻 .</h3>\n<blockquote>\n<ol>\n<li>두번째 팀 프로젝트</li>\n<li>react chart.js 커스텀</li>\n<li>로컬 스토리지 사용 댓글 남기기</li>\n<li>Tap 컴포넌트 만들기</li>\n<li>Toggle 컴포넌트 추가</li>\n<li>Footer 추가</li>\n</ol>\n</blockquote>\n<br />\n<h3 id=\"기록--\" style=\"position:relative;\"><a href=\"#%EA%B8%B0%EB%A1%9D--\" aria-label=\"기록   permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>기록 ✍🏻 .</h3>\n<ul>\n<li>과제는 제출 되었지만 팀원들이랑 부족한 부분을 마무리 짓기로했다</li>\n<li>아직은 Api를 활용하는 단계는 아니기때문에 문제없이 맡은 부분을 만들어냈다.</li>\n<li>내일은 Api 호출로 데이터 받아서 chart에 데이터 담기</li>\n<li>프리온 보딩 열심히 하자 !!</li>\n</ul>\n<br />\n<br />","excerpt":"오늘한일 👨🏻‍💻 . 두번째 팀 프로젝트 react chart.js 커스텀 로컬 스토리지 사용 댓글 남기기 Tap 컴포넌트 만들기 Toggle 컴포넌트 추가 Footer 추가 기록 ✍🏻 . 과제는 제출 되었지만 팀원들이랑 부족한 부분을 마무리 짓기로했다 아직은 Api를 활용하는 단계는 아니기때문에 문제없이 맡은 부분을 만들어냈다. 내일은 Api 호출로 데이터 받아서 chart에 데이터 담기 프리온 보딩 열심히 하자 !!","frontmatter":{"date":"February 26, 2022","title":"TIL - 2022.02.26","categories":"TIL","author":"전용태","emoji":"🌊"},"fields":{"slug":"/TIL/22_02_26/"}},"next":{"id":"19d18592-1b8b-5fd3-b966-a595cee11168","html":"<h2 id=\"로컬-스토리지를-활용해-간다한-댓글-남기기\" style=\"position:relative;\"><a href=\"#%EB%A1%9C%EC%BB%AC-%EC%8A%A4%ED%86%A0%EB%A6%AC%EC%A7%80%EB%A5%BC-%ED%99%9C%EC%9A%A9%ED%95%B4-%EA%B0%84%EB%8B%A4%ED%95%9C-%EB%8C%93%EA%B8%80-%EB%82%A8%EA%B8%B0%EA%B8%B0\" aria-label=\"로컬 스토리지를 활용해 간다한 댓글 남기기 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>로컬 스토리지를 활용해 간다한 댓글 남기기</h2>\n<p>구현할 기능은 간단한 댓글 남기기이다. 프로젝트 스코프가 작다고 판단하여 팀원들과 회의 끝에 Redux를 사용하지않고 진행하기로 함. 로컬스토리지를 사용하여 구현하기로 마음먹었다</p>\n<br />\n<p><img src=\"/10aee84569a7bc24359fe271c1e5bcae/0226_gif_v1.gif\" alt=\"0226_gif_v1.gif\"></p>\n<br />\n<h3 id=\"view-작업을-진행하며-구현-사항을-체크했다\" style=\"position:relative;\"><a href=\"#view-%EC%9E%91%EC%97%85%EC%9D%84-%EC%A7%84%ED%96%89%ED%95%98%EB%A9%B0-%EA%B5%AC%ED%98%84-%EC%82%AC%ED%95%AD%EC%9D%84-%EC%B2%B4%ED%81%AC%ED%96%88%EB%8B%A4\" aria-label=\"view 작업을 진행하며 구현 사항을 체크했다 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>view 작업을 진행하며 구현 사항을 체크했다.</h3>\n<ol>\n<li>로컬 스토리지에 닉네임, 댓글 담고 남기기 버튼 클릭 시 댓글 보여주기</li>\n<li>우측 상단 추가된 댓글 만큼 숫자 count 하기</li>\n<li>우측에서 좌측으로 들어오는 에니메이션 추가</li>\n<li>새로 추가된 댓글에 스크롤이 고정되어 추가된 댓글 먼저 보여주기</li>\n</ol>\n<br />\n<h3 id=\"1-로컬-스토리지에-닉네임-댓글-저장\" style=\"position:relative;\"><a href=\"#1-%EB%A1%9C%EC%BB%AC-%EC%8A%A4%ED%86%A0%EB%A6%AC%EC%A7%80%EC%97%90-%EB%8B%89%EB%84%A4%EC%9E%84-%EB%8C%93%EA%B8%80-%EC%A0%80%EC%9E%A5\" aria-label=\"1 로컬 스토리지에 닉네임 댓글 저장 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>1. 로컬 스토리지에 닉네임, 댓글 저장</h3>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token comment\">// 인풋값 상태 관리</span>\n  <span class=\"token keyword\">const</span> nickName <span class=\"token operator\">=</span> <span class=\"token function\">useRef</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">const</span> comment <span class=\"token operator\">=</span> <span class=\"token function\">useRef</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token comment\">// 로컬에 저장된 값 상태관리</span>\n  <span class=\"token keyword\">const</span> <span class=\"token punctuation\">[</span>commentList<span class=\"token punctuation\">,</span> setCommentList<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token function\">useState</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token comment\">// 로컬에 입풋값 저장</span>\n  <span class=\"token keyword\">const</span> <span class=\"token function-variable function\">saveComment</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">const</span> commentArry <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span>\n      <span class=\"token comment\">// 로컬에 배열 추가 스프레드 문법</span>\n      <span class=\"token operator\">...</span>commentList<span class=\"token punctuation\">,</span>\n      <span class=\"token punctuation\">{</span>\n        <span class=\"token comment\">// JSON 형태로 저장했기 때문에 JavaScript로 변경</span>\n        yourName<span class=\"token operator\">:</span> nickName<span class=\"token punctuation\">.</span>current<span class=\"token punctuation\">.</span>value<span class=\"token punctuation\">,</span>\n        yourComment<span class=\"token operator\">:</span> comment<span class=\"token punctuation\">.</span>current<span class=\"token punctuation\">.</span>value<span class=\"token punctuation\">,</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n    <span class=\"token comment\">// 로컬에 저장</span>\n    window<span class=\"token punctuation\">.</span>localStorage<span class=\"token punctuation\">.</span><span class=\"token function\">setItem</span><span class=\"token punctuation\">(</span><span class=\"token string\">'saveComment'</span><span class=\"token punctuation\">,</span> <span class=\"token constant\">JSON</span><span class=\"token punctuation\">.</span><span class=\"token function\">stringify</span><span class=\"token punctuation\">(</span>commentArry<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n  <span class=\"token comment\">// 저장 버튼</span>\n  <span class=\"token keyword\">const</span> <span class=\"token function-variable function\">inputHandler</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token function\">saveComment</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token comment\">// 로컬에 저장된 값 - setCommentList에 저장해둔 값을 get으로 가져오기</span>\n    <span class=\"token function\">setCommentList</span><span class=\"token punctuation\">(</span><span class=\"token constant\">JSON</span><span class=\"token punctuation\">.</span><span class=\"token function\">parse</span><span class=\"token punctuation\">(</span>window<span class=\"token punctuation\">.</span>localStorage<span class=\"token punctuation\">.</span><span class=\"token function\">getItem</span><span class=\"token punctuation\">(</span><span class=\"token string\">'saveComment'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n      </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">MSGBox</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n        </span><span class=\"token punctuation\">{</span>commentList<span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">el<span class=\"token punctuation\">,</span> idx</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">(</span>\n          <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">MSG</span></span> <span class=\"token attr-name\">key</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>idx<span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n            </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Left</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n              </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">NickName</span></span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">{</span>el<span class=\"token punctuation\">.</span>yourName<span class=\"token punctuation\">}</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span><span class=\"token class-name\">NickName</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n              </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">FontAwesomeIcon</span></span> <span class=\"token attr-name\">icon</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>faCircle<span class=\"token punctuation\">}</span></span> <span class=\"token attr-name\">className</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>icon<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/></span></span><span class=\"token plain-text\">\n            </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span><span class=\"token class-name\">Left</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n            </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Right</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n              </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Message</span></span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">{</span>el<span class=\"token punctuation\">.</span>yourComment<span class=\"token punctuation\">}</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span><span class=\"token class-name\">Message</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n            </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span><span class=\"token class-name\">Right</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n          </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span><span class=\"token class-name\">MSG</span></span><span class=\"token punctuation\">></span></span>\n        <span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span><span class=\"token plain-text\">\n      </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span><span class=\"token class-name\">MSGBox</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n      </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">InputBox</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n        </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">NickNameInput</span></span> <span class=\"token attr-name\">placeholder</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>닉네임<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">ref</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>nickName<span class=\"token punctuation\">}</span></span> <span class=\"token punctuation\">/></span></span><span class=\"token plain-text\">\n        </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">MessageInput</span></span> <span class=\"token attr-name\">placeholder</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>최대 30자<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">ref</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>comment<span class=\"token punctuation\">}</span></span> <span class=\"token punctuation\">/></span></span><span class=\"token plain-text\">\n        </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">MSGButton</span></span> <span class=\"token attr-name\">onClick</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>inputHandler<span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">남기기</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span><span class=\"token class-name\">MSGButton</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n      </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span><span class=\"token class-name\">InputBox</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n    </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span></span><span class=\"token punctuation\">></span></span>\n  <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>우선 유저가 작성하는 input의 닉네임과 댓글을 useRef를 사용하여 값을 받은 뒤, saveComment 함수인에서 commentArry 배열에 yourName, 과 yourCommet에 담아 로컬 스토리지에 setItem을 사용하여 저장한다. 댓글이 추가될 때마다 로컬 스토리지에 배열로 추가 저장하기 위해 스프레드 문법을 사용하여 … commentList를 추가한다.</p>\n<p>다음은 inputHandler를 사용하여 남기기 버튼을 클릭 시 로컬에 저장된 saveComment를 가져오며 map 함수를 사용하여 commentList의 yourName과 yourComment를 필요한 곳에 사용하였다.</p>\n<br />\n<p><img src=\"/6e736fbec94104f92a7dd2f82b4ebdc4/0226_gif_v2.gif\" alt=\"0226_gif_v2.gif\"></p>\n<br />\n<h2 id=\"2-우측-상단-추가된-댓글-만큼-숫자-count-하기\" style=\"position:relative;\"><a href=\"#2-%EC%9A%B0%EC%B8%A1-%EC%83%81%EB%8B%A8-%EC%B6%94%EA%B0%80%EB%90%9C-%EB%8C%93%EA%B8%80-%EB%A7%8C%ED%81%BC-%EC%88%AB%EC%9E%90-count-%ED%95%98%EA%B8%B0\" aria-label=\"2 우측 상단 추가된 댓글 만큼 숫자 count 하기 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>2. 우측 상단 추가된 댓글 만큼 숫자 count 하기</h2>\n<p>숫자를 카운트할 부분이 부모 컴포넌트에 위치해있다. 그래서 useState를 사용하여 관리한 commentList를 부모 컴포넌트로 옮기고 props를 사용하여 값을 넘겨주었다.<code class=\"language-text\">{commentList.length}</code> commentList의 length 값을 오늘과 전체 텍스트 옆에 사용하여 추가된 댓글만큼 숫자를 카운트함</p>\n<h2 id=\"3-우측에서-좌측으로-들어오는-에니메이션-추가\" style=\"position:relative;\"><a href=\"#3-%EC%9A%B0%EC%B8%A1%EC%97%90%EC%84%9C-%EC%A2%8C%EC%B8%A1%EC%9C%BC%EB%A1%9C-%EB%93%A4%EC%96%B4%EC%98%A4%EB%8A%94-%EC%97%90%EB%8B%88%EB%A9%94%EC%9D%B4%EC%85%98-%EC%B6%94%EA%B0%80\" aria-label=\"3 우측에서 좌측으로 들어오는 에니메이션 추가 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>3. 우측에서 좌측으로 들어오는 에니메이션 추가</h2>\n<p>키 프레임을 활용하여 애니메이션을 구현하였고 opacity 값을 0에서 1로 margin-left 값을 20px에서 0px로 줄어들게 하여 댓글 작성 시 우측에서 좌측으로 들어오는 애니메이션을 구현했다.</p>\n<div class=\"gatsby-highlight\" data-language=\"css\"><pre class=\"language-css\"><code class=\"language-css\"><span class=\"token property\">animation</span><span class=\"token punctuation\">:</span> fadeInMSG 0.85s <span class=\"token function\">cubic-bezier</span><span class=\"token punctuation\">(</span>0.22<span class=\"token punctuation\">,</span> 0.61<span class=\"token punctuation\">,</span> 0.36<span class=\"token punctuation\">,</span> 1<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token atrule\"><span class=\"token rule\">@keyframes</span> fadeInMSG</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token selector\">from</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">opacity</span><span class=\"token punctuation\">:</span> 0<span class=\"token punctuation\">;</span>\n    <span class=\"token property\">margin-left</span><span class=\"token punctuation\">:</span> 20px<span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n  <span class=\"token selector\">to</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">opacity</span><span class=\"token punctuation\">:</span> 1<span class=\"token punctuation\">;</span>\n    <span class=\"token property\">margin-left</span><span class=\"token punctuation\">:</span> 0<span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>한 가지 아쉬운 점은 댓글을 감싸고 있는 부모 컴포넌트에 overflow: visble을 사용하여 잘리는 부분 없이 자연스럽게 들어오게 구현하고 싶었는데 댓글이 많아지니 부모 요소의 높이 값을 벗어나 ui를 망치게 되어 overflow: scroll을 사용할 수밖에 없었다. 이 부분을 좀 더 생각해 보고 원하는 대로 수정해 봐야겠다.</p>\n<br />\n<h2 id=\"4-새로-추가된-댓글에-스크롤이-고정되어-추가된-댓글-먼저-보여주기\" style=\"position:relative;\"><a href=\"#4-%EC%83%88%EB%A1%9C-%EC%B6%94%EA%B0%80%EB%90%9C-%EB%8C%93%EA%B8%80%EC%97%90-%EC%8A%A4%ED%81%AC%EB%A1%A4%EC%9D%B4-%EA%B3%A0%EC%A0%95%EB%90%98%EC%96%B4-%EC%B6%94%EA%B0%80%EB%90%9C-%EB%8C%93%EA%B8%80-%EB%A8%BC%EC%A0%80-%EB%B3%B4%EC%97%AC%EC%A3%BC%EA%B8%B0\" aria-label=\"4 새로 추가된 댓글에 스크롤이 고정되어 추가된 댓글 먼저 보여주기 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>4. 새로 추가된 댓글에 스크롤이 고정되어 추가된 댓글 먼저 보여주기</h2>\n<p>댓글을 구현하고 테스트하기 위해 여러 개의 댓글을 추가하였는데 댓글 컴포넌트의 스크롤이 최 상단에 유지되어 작성한 순서대로 보이게 되었다 그래서 추가된 댓글을 보려면 스크롤을 내려야 하는 부분이 불편하다 유저에 불편함을 줄 수 있을 거라 생각하여 useRef와 useEffect를 사용하여 추가된 댓글에 포커스가 고정되도록 하였다.</p>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token keyword\">const</span> commentScroll <span class=\"token operator\">=</span> <span class=\"token function\">useRef</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// 댓글 추가 시 스크롤 위치 하단 고정</span>\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">scrollToBottom</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>commentScroll<span class=\"token punctuation\">.</span>current<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    commentScroll<span class=\"token punctuation\">.</span>current<span class=\"token punctuation\">.</span>scrollTop <span class=\"token operator\">=</span> commentScroll<span class=\"token punctuation\">.</span>current<span class=\"token punctuation\">.</span>scrollHeight<span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n<span class=\"token function\">useEffect</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">scrollToBottom</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span>commentList<span class=\"token punctuation\">.</span>length<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">MSGBox</span></span> <span class=\"token attr-name\">ref</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>commentScroll<span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">></span></span></code></pre></div>\n<br />\n<h2 id=\"-댓글-등록-후-input값-초기화\" style=\"position:relative;\"><a href=\"#-%EB%8C%93%EA%B8%80-%EB%93%B1%EB%A1%9D-%ED%9B%84-input%EA%B0%92-%EC%B4%88%EA%B8%B0%ED%99%94\" aria-label=\" 댓글 등록 후 input값 초기화 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>+ 댓글 등록 후 input값 초기화</h2>\n<p>뒤늦게 찾은 문제다.. 댓글을 등록 후 input에 작성한 내용이 그대로 남아있다. 댓글 등록 버튼을 클릭 시 useRef 값을 비워주는 코드를 추가하여 문제를 해결하였다.</p>\n<br />\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token comment\">// 저장 버튼</span>\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">inputHandler</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">saveComment</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token comment\">// 로컬에 저장된 값 - setCommentList에 저장해둔 값을 get으로 가져오기</span>\n  <span class=\"token function\">setCommentList</span><span class=\"token punctuation\">(</span><span class=\"token constant\">JSON</span><span class=\"token punctuation\">.</span><span class=\"token function\">parse</span><span class=\"token punctuation\">(</span>window<span class=\"token punctuation\">.</span>localStorage<span class=\"token punctuation\">.</span><span class=\"token function\">getItem</span><span class=\"token punctuation\">(</span><span class=\"token string\">'saveComment'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token comment\">// 초기화</span>\n  nickName<span class=\"token punctuation\">.</span>current<span class=\"token punctuation\">.</span>value <span class=\"token operator\">=</span> <span class=\"token string\">''</span><span class=\"token punctuation\">;</span>\n  comment<span class=\"token punctuation\">.</span>current<span class=\"token punctuation\">.</span>value <span class=\"token operator\">=</span> <span class=\"token string\">''</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></code></pre></div>\n<br />\n<p><img src=\"/9330cd364362bd5a624dea51fa4265d0/0226_gif_v3.gif\" alt=\"0226_gif_v3.gif\"></p>\n<br />\n<h3 id=\"회고--\" style=\"position:relative;\"><a href=\"#%ED%9A%8C%EA%B3%A0--\" aria-label=\"회고   permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>회고 -</h3>\n<p>처음 유저가 input에 입력한 닉네임과 댓글을 useRef가 아닌 useState로 관리하여 진행했다. console.log로 input에 담긴 값들을 확인하다가 useState를 사용할 경우 글을 입력할 때마다 재랜더링 된다는 사실을 팀원의 조언으로 알게 되었다. 그래서 useRef를 사용하게 된 건데 참 유용한 정보였던 거 같다. 이 부분을 잘 기억하고 다음 프로젝트에서도 알맞게 사용해야겠다. + input값 초기화도 잊지말고 ㅋㅋ</p>\n<p>팀원들과 프로젝트를 진행 전 상태 관리를 따로 안 해도 구현이 가능할 거 같다는 의견이 모아졌다. 주어진 시간은 짧고 조건은 많았기 때문에 상태 관리 없이 전역으로 관리하여 프로젝트를 진행하고자 한 것이다. 다들 공감하였고 진행했지만 프로젝트가 끝날 쯤 팀원 모두 다음 프로젝트에는 Redux를 사용하자는 의견이 다시 나오기 시작했다. 이유는 코드도 너무 많고 가독성도 떨어지고 사실 불편한 부분이 많았다.</p>\n<p>남은 프로젝트는 Redux쓰기로…ㅎㅎ</p>\n<br />","frontmatter":{"date":"February 26, 2022","title":"Error Handling - 02-26","categories":"SAVE","author":"전용태","emoji":"🍣"},"fields":{"slug":"/SAVE/0226_save/0226_save/"}},"prev":{"id":"24d1992e-9236-5629-aa08-3015227f0d4c","html":"<h2 id=\"api-호출하여-데이터-받고-가공하여-chart-구현하기\" style=\"position:relative;\"><a href=\"#api-%ED%98%B8%EC%B6%9C%ED%95%98%EC%97%AC-%EB%8D%B0%EC%9D%B4%ED%84%B0-%EB%B0%9B%EA%B3%A0-%EA%B0%80%EA%B3%B5%ED%95%98%EC%97%AC-chart-%EA%B5%AC%ED%98%84%ED%95%98%EA%B8%B0\" aria-label=\"api 호출하여 데이터 받고 가공하여 chart 구현하기 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Api 호출하여 데이터 받고 가공하여 Chart 구현하기</h2>\n<p>최근 1경기부터 50경기까지 1~8위의 데이터를 라인 차트로 구현하여 유저에게 보여줘야 한다. 라인 차트를 사용하기 위해 여러 가지 라이브러리들을 검색해 봤다.\nRecharts와 Chartjs를 먼저 알게 되었는데 Chartjs가 공식 문서에 커스텀 하는 부분이 상세하게 나와있고 가볍다는 장점이 있어 Chartjs를 사용하여 구현하기로 했다.</p>\n<p>처음 사용하는 라이브러리이고 주어진 시간은 짧기 때문에 공식 문서가 친절한 Chartjs에 마음이 감ㅋㅋ</p>\n<p><img src=\"/b9ccd085f64fd6f9ade97a8bc4296024/0227_gif_v1.gif\" alt=\"0227_gif_v1.gif\"></p>\n<h2 id=\"view-작업을-진행하며-구현-사항을-체크했다\" style=\"position:relative;\"><a href=\"#view-%EC%9E%91%EC%97%85%EC%9D%84-%EC%A7%84%ED%96%89%ED%95%98%EB%A9%B0-%EA%B5%AC%ED%98%84-%EC%82%AC%ED%95%AD%EC%9D%84-%EC%B2%B4%ED%81%AC%ED%96%88%EB%8B%A4\" aria-label=\"view 작업을 진행하며 구현 사항을 체크했다 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>view 작업을 진행하며 구현 사항을 체크했다.</h2>\n<ol>\n<li>Api를 호출하여 유저의 최근 1경기부터 50경기까지 1~8위의 기록을 라인차트로 구현</li>\n<li>우측 상단 지난 200경기의 평균 순위, 최근 50경기의 평균 순위 표시</li>\n</ol>\n<h2 id=\"1-api를-호출-유저의-1경기부터-50경기-18위의-기록을-라인차트로-구현\" style=\"position:relative;\"><a href=\"#1-api%EB%A5%BC-%ED%98%B8%EC%B6%9C-%EC%9C%A0%EC%A0%80%EC%9D%98-1%EA%B2%BD%EA%B8%B0%EB%B6%80%ED%84%B0-50%EA%B2%BD%EA%B8%B0-18%EC%9C%84%EC%9D%98-%EA%B8%B0%EB%A1%9D%EC%9D%84-%EB%9D%BC%EC%9D%B8%EC%B0%A8%ED%8A%B8%EB%A1%9C-%EA%B5%AC%ED%98%84\" aria-label=\"1 api를 호출 유저의 1경기부터 50경기 18위의 기록을 라인차트로 구현 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>1. Api를 호출 유저의 1경기부터 50경기 1~8위의 기록을 라인차트로 구현</h2>\n<p>Chart.js의 공식 문서를 먼저 살펴보았다. 그 뒤 여러 블로그들을 검색하여 커스텀 하는 방법을 먼저 찾아보고 더미 데이터를 for으로 돌려 x축에 최근 1경기부터 50경기까지의 데이터를 넣고 y 축에 1위~8위의 데이터를 랜덤으로 데이터를 넣었다. 주어진 조건대로 색상과 크기를 커스텀 하였다. 크게 어려운 점 은 없었으나 초반에 버전에 따라 커스텀 하는 방법이 다르다는 걸 인지하지 못해 헤맸다…</p>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token keyword\">const</span> data <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">// 이전 1경기부터 50경기 x축</span>\n  labels<span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token operator\">...</span>labelsArry<span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n  datasets<span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\n    <span class=\"token punctuation\">{</span>\n      label<span class=\"token operator\">:</span> <span class=\"token string\">'순위'</span><span class=\"token punctuation\">,</span>\n      fill<span class=\"token operator\">:</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">,</span>\n      lineTension<span class=\"token operator\">:</span> <span class=\"token number\">0.4</span><span class=\"token punctuation\">,</span>\n      backgroundColor<span class=\"token operator\">:</span> <span class=\"token string\">'rgba(0, 119, 255, 1)'</span><span class=\"token punctuation\">,</span>\n      borderWidth<span class=\"token operator\">:</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span>\n      borderColor<span class=\"token operator\">:</span> <span class=\"token string\">'rgba(0, 119, 255, 1)'</span><span class=\"token punctuation\">,</span>\n      borderCapStyle<span class=\"token operator\">:</span> <span class=\"token string\">'butt'</span><span class=\"token punctuation\">,</span>\n      borderDash<span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n      borderDashOffset<span class=\"token operator\">:</span> <span class=\"token number\">0.0</span><span class=\"token punctuation\">,</span>\n      borderJoinStyle<span class=\"token operator\">:</span> <span class=\"token string\">'miter'</span><span class=\"token punctuation\">,</span>\n      pointBorderColor<span class=\"token operator\">:</span> <span class=\"token string\">'rgba(0, 119, 255, 1)'</span><span class=\"token punctuation\">,</span>\n      pointBackgroundColor<span class=\"token operator\">:</span> <span class=\"token string\">'rgba(0, 119, 255, 1)'</span><span class=\"token punctuation\">,</span>\n      pointBorderWidth<span class=\"token operator\">:</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span>\n      pointHoverRadius<span class=\"token operator\">:</span> <span class=\"token number\">3</span><span class=\"token punctuation\">,</span>\n      pointHoverBackgroundColor<span class=\"token operator\">:</span> <span class=\"token string\">'rgba(0, 119, 255, 1)'</span><span class=\"token punctuation\">,</span>\n      pointHoverBorderColor<span class=\"token operator\">:</span> <span class=\"token string\">'rgba(0, 119, 255, 1)'</span><span class=\"token punctuation\">,</span>\n      pointHoverBorderWidth<span class=\"token operator\">:</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span>\n      pointRadius<span class=\"token operator\">:</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span>\n      pointHitRadius<span class=\"token operator\">:</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span>\n      <span class=\"token comment\">// 이전 1경기부터 50경기 순위 데이터</span>\n      data<span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token operator\">...</span>rankArry<span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>data에 labels은 x축이다. x축에 1경기부터 50경기까지의 데이터를 담을 예정, lineTension을 사용하여 라인차트의 유연함? 을 커스텀 가능하다. 값이 낮을수록 직선에 가까워진다. 밑에 보더와 포인트 값들로 라인과 포인터의 색상 및 굵기 등을 커스텀가능하다.</p>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token keyword\">const</span> options <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  maintainAspectRatio<span class=\"token operator\">:</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">,</span>\n  plugins<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    legend<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n      display<span class=\"token operator\">:</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    Tooltip<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n      enabled<span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  scales<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    x<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n      display<span class=\"token operator\">:</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    yAxis<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n      reverse<span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n      suggestedMin<span class=\"token operator\">:</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span>\n      suggestedMax<span class=\"token operator\">:</span> <span class=\"token number\">8</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>다음 options을 통해 x축을 가리고 y 축을 reverse 하여 상단부터 1위 하단에 8위를 배치하였다. legend의 display false 값으로 차트 타이틀을 가리고, maintainAspectRatio: false를 false로 해주면 상위 div를 무시한 채 창 크기에 따라 크기가 크기가 마음대로 바뀌던 것이 상위 div에 구속된다.</p>\n<p>원하는 형태로 view를 그렸으니 api를 호출하여 데이터를 넣어보자!!</p>\n<p>차트 컴포넌트는 main.js의 자식요소로 존재한다. 호출한 api를 main.js에서 props로 차트 컴포넌트로 데이터를 넘겨주었다.</p>\n<p>우측 상단에 지난 200경기의 평균 순위, 최근 50경기의 평균 순위 표시 해야하고 차트에는 50경기의 데이터만 필요하다.</p>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token keyword\">const</span> recent50matches <span class=\"token operator\">=</span> matchInfo<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>matches\n  <span class=\"token punctuation\">.</span><span class=\"token function\">filter</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">match</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> match<span class=\"token punctuation\">.</span>player<span class=\"token punctuation\">.</span>matchRank <span class=\"token operator\">!==</span> <span class=\"token string\">''</span> <span class=\"token operator\">&amp;&amp;</span> match<span class=\"token punctuation\">.</span>player<span class=\"token punctuation\">.</span>matchRank <span class=\"token operator\">!==</span> <span class=\"token string\">'99'</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">.</span><span class=\"token function\">slice</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">50</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>recent50matches 함수에서 slice를 사용하여 필요한 50경기만 먼저 잘라 담았다. 자세히 확인해 보니 간혹 비어있는 값도 있었고 리타이어라고 해서 순위가 기록되지 않는 데이터도 있어 이걸 먼저 필터링하고 50경기만 저장</p>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token keyword\">const</span> const50matchesRank <span class=\"token operator\">=</span>\n  recent50matches<span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">el</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token function\">Number</span><span class=\"token punctuation\">(</span>el<span class=\"token punctuation\">.</span>player<span class=\"token punctuation\">.</span>matchRank<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">reduce</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">a<span class=\"token punctuation\">,</span> b</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> a <span class=\"token operator\">+</span> b<span class=\"token punctuation\">)</span> <span class=\"token operator\">/</span> <span class=\"token number\">50</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>50경기의 평균 순위를 구하기 위해 map 함수를 사용하여 값을 더하고 저장된 값이 문자열이었기 때문에 숫자로 변경한 뒤 50으로 나누자 소수점이 길게 나오는 경우가 생겼다.</p>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token punctuation\">{</span>\n  Math<span class=\"token punctuation\">.</span><span class=\"token function\">round</span><span class=\"token punctuation\">(</span>const50matchesRank <span class=\"token operator\">*</span> <span class=\"token number\">100</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">/</span> <span class=\"token number\">100</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>Math.round를 사용해 100을 곱하고 100을 나눠 소수점을 앞에 2자리만 남겨 사용하였다.</p>\n<p>지난 200경기의 평균 순위도 동일한 방법으로 구현하였다.</p>\n<p>다음은 차트에 적용하기!!</p>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token keyword\">const</span> rankArry <span class=\"token operator\">=</span> recent50matches<span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">el</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> el<span class=\"token punctuation\">.</span>player<span class=\"token punctuation\">.</span>matchRank<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">filter</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">test</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> test <span class=\"token operator\">&lt;=</span> <span class=\"token number\">8</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">const</span> labelsArry <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">let</span> i <span class=\"token operator\">=</span> <span class=\"token number\">50</span><span class=\"token punctuation\">;</span> i <span class=\"token operator\">>=</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span> i<span class=\"token operator\">--</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  labelsArry<span class=\"token punctuation\">.</span><span class=\"token function\">push</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">이전 </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>i<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">경기</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>rankArry는 1위 ~ 8위를 기록한 데이터다. filter를 사용해 8위 밑으로는 다 걸러내주었다. Y축에 들어갈 데이터임</p>\n<p>labelsArry에는 for 문을 사용하여 1부터 50까지의 숫자를 만들고 Chart.js의 tooltip에 표시가 되기 때문에 <code class=\"language-text\">이전 ${i}경기</code>로 labelsArry에 담아주었다.</p>\n<br />\n<p><img src=\"/99470384ef6abc60f314407f3655ee5b/0227_gif_v2.gif\" alt=\"0227_gif_v2.gif\"></p>\n<br />\n<p>검색한 유저 정보에 맞게 차트가 변화되는 걸 확인할 수 있다. <br />근데.. 검색한 유저들 실력이 ㅎㄷㄷ하다 카트 장인들ㅋㅋㅋ</p>\n<h3 id=\"회고--\" style=\"position:relative;\"><a href=\"#%ED%9A%8C%EA%B3%A0--\" aria-label=\"회고   permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>회고 -</h3>\n<p>처음 차트를 구현해 보았다. 처음에는 헤맸지만 공식 문서를 자세히 살펴보고 검색을 통해 레퍼런스들을 찾아보니 원하는 답을 찾을 수 있었다. 근데 중요한 건 공식 문서를 먼저 봐야 한다는 사실을 좀 느끼게 되었다. 블로그는 다 다양한 환경에 맞게 만들어진 것을 기록한 글들이 많다. 그래서 나의 상황과 다르기에 오히려 더 혼란을 주는 경우가 많은 거 같다.</p>\n<p>데이터를 원하는 대로 가공하는 게 정말 재미있다. 아직 익숙하지 않지만 제일 재미있는 요소인 거 같아 구현하고 나서 코드를 몇 번 다시 본 거 같다.</p>\n<p>늦은 시간까지 그리고 주말도 투자하며 좀 더 완성도 있게 마무리 짓고자 노력한 팀원들 정말 고생했다. 아쉬움은 남지만 하는 동안 재미있었고 팀원들과 소통하며 배운 점도 많아 좋았다.</p>\n<br />","frontmatter":{"date":"February 27, 2022","title":"Error Handling - 02-27","categories":"SAVE","author":"전용태","emoji":"🍣"},"fields":{"slug":"/SAVE/0227_save/0227_save/"}},"site":{"siteMetadata":{"siteUrl":"https://yong313.github.io","comments":{"utterances":{"repo":""}}}}},"pageContext":{"slug":"/TIL/22_02_26/","nextSlug":"/SAVE/0226_save/0226_save/","prevSlug":"/SAVE/0227_save/0227_save/"}},
    "staticQueryHashes": ["1073350324","1956554647","2938748437"]}